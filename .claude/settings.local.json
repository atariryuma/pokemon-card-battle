{
  "permissions": {
    "allow": [
      "Bash(python:*)",
      "WebSearch",
      "WebFetch(domain:www.pokemon-card.com)",
      "Bash(del style.css)",
      "Bash(rm:*)",
      "Bash(timeout 3 curl -s http://localhost:8000)",
      "Bash(node:*)",
      "Bash(del \"C:\\Users\\Public\\Documents\\pokemon\\js\\card_viewer.js\")",
      "Bash(grep:*)",
      "Bash(timeout 3 curl -s \"http://localhost:8000\")",
      "Bash(timeout:*)",
      "Bash(mkdir:*)",
      "Bash(copy:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(find:*)",
      "Bash(del \"C:\\Users\\Public\\Documents\\pokemon\\js\\cards.js\")",
      "Bash(npm start)",
      "Bash(npm run:*)",
      "Bash(git checkout:*)",
      "mcp__ide__getDiagnostics",
      "Bash(del \"C:\\Users\\Public\\Documents\\pokemon\\js\\animations.js\")",
      "Bash(curl:*)",
      "Bash(npm start:*)",
      "WebFetch(domain:speckyboy.com)",
      "WebFetch(domain:codepen.io)",
      "WebFetch(domain:pokecardlab.com)",
      "Bash(git log:*)",
      "Bash(rg:*)",
      "Bash(powershell:*)",
      "Bash(dir:*)",
      "Bash(cat:*)",
      "Bash(open \"http://localhost:8001/\")",
      "Bash(PORT=3001 node server.js)",
      "Bash(open:*)",
      "Bash(pkill:*)",
      "Bash(npm install:*)",
      "Bash(start http://localhost:3001)",
      "Bash(start http://localhost:8080)",
      "Bash(identify:*)",
      "Bash(PORT=8080 node server.js)",
      "Bash(PORT=9090 node server.js)",
      "Bash(start http://localhost:9090)",
      "Bash(start http://localhost:3000)",
      "Bash(start http://localhost:3000/card_viewer.html)",
      "Bash(taskkill:*)",
      "Bash(PORT=3000 node server.js)",
      "Bash(del \"C:\\Users\\Public\\Documents\\pokemon\\assets\\cards\\pokemon\\006_kobane_inago.webp\")",
      "Bash(tree:*)",
      "Bash(wc:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nrefactor: Apply best practices - Immutability, SRP, and centralized state management\n\nMajor improvements addressing code review findings:\n\n1. **Immutability Enforcement (P0)**\n   - Fixed shuffle() to create new array instead of mutating original\n   - Added comprehensive documentation on immutability patterns\n   - Updated all array operations to use spread operator\n\n2. **Centralized State Management (P0)**\n   - Removed duplicate legacy turn state fields\n   - Consolidated all turn-related state into turnState object\n   - Added updateTurnState() and getTurnStateCompat() helpers\n   - Updated logic.js to use centralized turnState\n\n3. **Hand Limit Implementation (P0)**\n   - Added HAND_LIMIT check to drawCard() function\n   - Prevents drawing beyond 10-card limit\n   - Provides user-friendly error messages\n\n4. **ES6 Module Consistency (P0)**\n   - Removed require() usage in turn-manager.js\n   - Fixed to use proper ES6 import statements\n   - Ensured consistency across all modules\n\n5. **Code Duplication Reduction (P1)**\n   - Marked duplicate hasEnoughEnergyForAttack() as deprecated\n   - Added warnings to guide developers to use Logic.hasEnoughEnergy\n\n6. **Documentation Sync (P1)**\n   - Updated CLAUDE.md to reflect actual implementation\n   - Added detailed immutability examples\n   - Documented centralized turn state management\n   - Clarified deprecated patterns\n\nBreaking Changes:\n- state.hasDrawnThisTurn â†’ state.turnState.hasDrawn\n- state.hasAttachedEnergyThisTurn â†’ state.turnState.energyAttached > 0\n- state.canRetreat â†’ state.turnState.canRetreat\n- state.canPlaySupporter â†’ state.turnState.canPlaySupporter\n\nMigration Guide:\n- Use updateTurnState() for all turn state updates\n- Import getTurnStateCompat() for legacy field access if needed\n- All new code should use turnState directly\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(cat src/js/game.js)",
      "Bash(cd /Users/ryuma/My\\ scripts/pokemon-card-battle && ls -la src/js/*.js:*)",
      "Bash(cd:*)",
      "Bash(npm run lint:*)",
      "Bash(python3:*)",
      "Bash(git commit:*)",
      "Bash(git push)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Add Three.js animations and effects from CSS\n\n- Camera adjustments: angle 45Â°, distance 800, offset Z=80\n- Card animations:\n  - Breathing animation \\(floating hand cards\\)\n  - Hover effect \\(scale + lift\\)\n  - Selection glow \\(blue pulse\\)\n  - Highlight glow \\(green\\)\n  - Type-based glow effects\n- Combat animations:\n  - Attack animation \\(forward movement\\)\n  - Damage shake animation\n  - Knockout animation \\(spin + fade\\)\n  - HP flash animation \\(red flicker\\)\n  - Screen shake effect\n- Fixed card rendering: layFlat\\(\\) only for non-hand cards\n- Simplified hand card rotation logic\n- Added animation APIs to GameBoard3D and ThreeViewBridge\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ],
    "deny": [],
    "ask": [],
    "additionalDirectories": [
      "C:\\c\\Users\\Public\\Documents",
      "C:\\d C:\\Users\\Public\\Documents"
    ]
  }
}
